{% extends "wizard/wizard_form.html" %}
{% load static %}

{% block form_title %}
    Ingrese el Parto
{% endblock form_title %}
    
{% block form_fields %}
    <fieldset class="form-section">
        <legend class="section-legend">Antecedentes e Ingreso</legend>

        <div class="form-row">

            <div class="form-group {% if form.hora_inicio.errors %} has-error{% endif %}">
                <label for="{{form.hora_inicio.id_for_label}}">Fecha y Hora de Inicio del trabajo de Parto <span class="obligatorio">*</span></label>
                {{form.hora_inicio}}
                <span class="field-help">{{form.hora_inicio.help_text}}</span>
            {% if form.hora_inicio.errors %}
                <div class="error-message">
                {% for error in form.hora_inicio.errors %}
                    <p>{{ error }}</p> 
                {% endfor %}
                </div>                   
            {% endif %}
            </div>

            
            <div class="form-group {% if form.tipo_acompaniante.errors %} has-error{% endif %}">
                <label for="{{form.tipo_acompaniante.id_for_label}}">Tipo de Acompañante<span class="obligatorio">*</span></label>
                {{form.tipo_acompaniante}}
                <span class="field-help">{{form.tipo_acompaniante.help_text}}</span>
            {% if form.tipo_acompaniante.errors %}
                <div class="error-message">
                {% for error in form.tipo_acompaniante.errors %}
                    <p>{{ error }}</p> 
                {% endfor %}
                </div>                   
            {% endif %}
            </div>
        </div>

        <div class="form-row three-cols">
            <div class="form-group {% if form.tipo_de_ingreso.errors %} has-error{% endif %}">
                <label for="{{form.tipo_de_ingreso.id_for_label}}">Tipo de Ingreso <span class="obligatorio">*</span></label>
                {{form.tipo_de_ingreso}}
            {% if form.tipo_de_ingreso.errors %}
                <div class="error-message">
                {% for error in form.tipo_de_ingreso.errors %}
                    <p>{{ error }}</p> 
                {% endfor %}
                </div>                   
            {% endif %}
            </div>

            <div class="form-group {% if form.grupo_robson.errors %} has-error{% endif %}">
                <label for="{{form.grupo_robson.id_for_label}}">Grupo Robson</label>
                {{form.grupo_robson}}
                <span class="field-help">{{form.grupo_robson.help_text}}</span>
                {% if form.grupo_robson.errors %}
                <div class="error-message">
                {% for error in form.grupo_robson.errors %}
                    <p>{{ error }}</p> 
                {% endfor %}
                </div>                   
            {% endif %}

            </div>

            <div class="form-group {% if form.via_nacimiento.errors %} has-error{% endif %}">
                <label for="{{form.via_nacimiento.id_for_label}}">Vía de Nacimiento <span class="obligatorio">*</span></label>
                {{form.via_nacimiento}}
            {% if form.via_nacimiento.errors %}
                <div class="error-message">
                {% for error in form.via_nacimiento.errors %}
                    <p>{{ error }}</p> 
                {% endfor %}
                </div>
            {% endif %}

            </div>

            <div class="form-group {% if form.via_nacimiento.errors %} has-error{% endif %}">
                <label for="{{form.inicio_parto.id_for_label}}">Tipo Inicio de Parto<span class="obligatorio">*</span></label>
                {{form.inicio_parto}}
            {% if form.inicio_parto.errors %}
                <div class="error-message">
                {% for error in form.inicio_parto.errors %}
                    <p>{{ error }}</p> 
                {% endfor %}
                </div>
            {% endif %}

            </div>
    </fieldset>

    <fieldset class="form-section ">
        <legend class="section-legend">Evolución del Trabajo de Parto</legend>

        <div class="form-row three-cols">
            <div class="form-group {% if form.estado.errors %} has-error{% endif %}">
                <label for="{{form.estado.id_for_label}}">Estado Actual del Parto <span class="obligatorio">*</span></label>
                {{form.estado}}
            {% if form.estado.errors %}
                <div class="error-message">
                {% for error in form.estado.errors %}
                    <p>{{ error }}</p> 
                {% endfor %}
                </div>
            {% endif %}
            </div>

            <div class="form-group {% if form.posicion.errors %} has-error{% endif %}">
                <label for="{{form.posicion.id_for_label}}">Posición Materna <span class="obligatorio">*</span></label>
                {{form.posicion}}
            {% if form.posicion.errors %}
                <div class="error-message">
                {% for error in form.posicion.errors %}
                    <p>{{ error }}</p> 
                {% endfor %}
                </div>
            {% endif %}
            </div>

            <div class="form-group {% if form.tipo_regimen.errors %} has-error{% endif %}">
                <label for="{{form.tipo_regimen.id_for_label}}">Régimen <span class="obligatorio">*</span></label>
                {{form.tipo_regimen}}
            {% if form.tipo_regimen.errors %}
                <div class="error-message">
                {% for error in form.tipo_regimen.errors %}
                    <p>{{ error }}</p> 
                {% endfor %}
                </div>
            {% endif %}
            </div>
        </div>

        <div class="form-row three-cols">
            <div class="form-group {% if form.n_tactos_vaginales.errors %} has-error{% endif %}">
                <label for="{{form.n_tactos_vaginales.id_for_label}}">N° Tactos Vaginales</label>
                {{form.n_tactos_vaginales}}    
            {% if form.n_tactos_vaginales.errors %}
                <div class="error-message">
                {% for error in form.n_tactos_vaginales.errors %}
                    <p>{{ error }}</p> 
                {% endfor %}
                </div>
            {% endif %}
            </div>

            <div class="form-group {% if form.numero_aro.errors %} has-error{% endif %}">
                <label for="{{form.numero_aro.id_for_label}}">Número ARO</label>
                {{form.numero_aro}}
            {% if form.numero_aro.errors %}
                <div class="error-message">
                {% for error in form.numero_aro.errors %}
                    <p>{{ error }}</p> 
                {% endfor %}
                </div>
            {% endif %}
            </div>

            <div class="form-group {% if form.rotura_membrana.errors %} has-error{% endif %}">
                <label for="{{form.rotura_membrana.id_for_label}}">Rotura Membrana <span class="obligatorio">*</span></label>
                {{form.rotura_membrana}}
            {% if form.rotura_membrana.errors %}
                <div class="error-message">
                {% for error in form.rotura_membrana.errors %}
                    <p>{{ error }}</p> 
                {% endfor %}
                </div>
            {% endif %}
            </div>
        </div>
    </fieldset>

    <fieldset class="form-section">
        <legend class="section-legend">Cronometría (En Minutos) </legend>
        <p class="form-subtitle" style="margin-bottom: 1rem; margin-top: -1rem;">
            Los tiempos se almacenaran en minutos en el sistema
        </p>

        <div class="form-row three-cols">
            <div class="form-group {% if form.tiempo_membrana_rota.errors %} has-error{% endif %}">
                <label for="{{form.tiempo_membrana_rota.id_for_label}}">T. Membrana Rota <span class="obligatorio">*</span></label>
                {{form.tiempo_membrana_rota}}
            {% if form.tiempo_membrana_rota.errors %}
                <div class="error-message">
                {% for error in form.tiempo_membrana_rota.errors %}
                    <p>{{ error }}</p> 
                {% endfor %}
                </div>
            {% endif %}
            </div>

            <div class="form-group {% if form.tiempo_dilatacion.errors %} has-error{% endif %}">
                <label for="{{form.tiempo_dilatacion.id_for_label}}">T. Dilatación <span class="obligatorio">*</span></label>
                {{form.tiempo_dilatacion}}
            {% if form.tiempo_dilatacion.errors %}
                <div class="error-message">
                {% for error in form.tiempo_dilatacion.errors %}
                    <p>{{ error }}</p> 
                {% endfor %}
                </div>
            {% endif %}
            </div>

            <div class="form-group {% if form.tiempo_expulsivo.errors %} has-error{% endif %}">
                <label for="{{form.tiempo_expulsivo.id_for_label}}">T. Expulsivo <span class="obligatorio">*</span></label>
                {{form.tiempo_expulsivo}}
            {% if form.tiempo_expulsivo.errors %}
                <div class="error-message">
                {% for error in form.tiempo_expulsivo.errors %}
                    <p>{{ error }}</p> 
                {% endfor %}
                </div>
            {% endif %}
            </div>
        </div>
    </fieldset>

    <fieldset class="form-section">
        <legend class="section-legend">Procedimientos y Factores</legend>

        <div class="checkbox-grid">
            
            <label class="checkbox-card">
                {{form.libertad_movimiento}}
                <span class="checkbox-text">Libertad Movimiento</span>
            </label>


            <label class="checkbox-card">
                {{form.monitor}}
                <span class="checkbox-text">Monitor</span>
            </label>

            <label class="checkbox-card">
                {{form.ttc}}
                <span class="checkbox-text">TTC</span>
            </label>

            <label class="checkbox-card">
                {{form.oxitocina_profilactica}}
                <span class="checkbox-text">Oxitocina Profiláctica</span>
            </label>

            <label class="checkbox-card">
                {{form.uso_sala_saip}}
                <span class="checkbox-text">Uso Sala SAIP</span>
            </label>

            <label class="checkbox-card">
                {{form.entrega_placenta}}
                <span class="checkbox-text">Entrega Placenta</span>
            </label>
        </div>
    </fieldset>

        <fieldset class="form-section">
        <legend class="section-legend">Complicaciones del Parto</legend>
        <p class="form-subtitle" style="margin-bottom: 1rem; margin-top: -1rem;">
            Marque todas las complicaciones que sucedieron durante el trabajo de parto    
        </p>
        <div class="checkbox-grid">
            {% for complicacion in form.complicaciones %}
                <label class="checkbox-card">
                    {{complicacion.tag}}
                    <span class="checkbox-text">{{complicacion.choice_label}}</span>
                </label>
            {% endfor %}
        </div>
    </fieldset>

    <fieldset class="form-section">
        <legend class="section-legend">Detalles Finales</legend>

        <div class="form-group">
            <label for="{{form.observaciones.id_for_label}}">Observaciones Generales</label>
            {{form.observaciones}}    
        </div>
    </fieldset>
{% endblock form_fields %}
    